---
title: "NZ_Map"
format: pdf
editor: visual
---

```{r,warning = FALSE, include=FALSE}
library(leaflet)
library(leaflet.extras)
library(sf)
library(ggplot2)
library(dplyr)
library(viridis)
```

Basic New Zealand Map

```{r echo=FALSE,warning=FALSE}
# Creating a New Zealand map
NZ_map <- leaflet() %>%
addTiles() %>%
setView(lng = 176.87080273943093, lat = -41.141089622379005, zoom = 5)
# Display the basic map
NZ_map
```

Add Markers

```{r echo=FALSE,warning=FALSE}
# Create New Zealand map dataset
NZ_pop <- data.frame(
city = c("Auckland", "Wellington", "Christchurch"),
lat = c(-36.852095, -41.2887953, -43.530955), lng = c(174.7631803, 174.7772114, 172.6364343), population = c(1693000, 424000, 407503))

# Create New Zealand map with marers
NZ_map_pop <- leaflet(NZ_pop) %>%
addTiles() %>%
setView(lng = 176.87080273943093, lat = -41.141089622379005, zoom = 5) %>%
addMarkers(~lng, ~lat, popup = ~paste(city, "<br>Population:", population))

# Display the map with markers
NZ_map_pop

# Create a heatmap showing population density using the actual data
NZ_map_heatmap <- leaflet(NZ_pop) %>%
  addProviderTiles(providers$CartoDB.Positron) %>%  # Use the same readable tile
  addHeatmap(lng = ~lng, lat = ~lat, intensity = ~population)

# Display the heatmap
NZ_map_heatmap

```
